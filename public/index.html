<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta
    name="description"
    content="Web site created using create-react-app"
  />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/Recurso219.png" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <title>BullFit</title>

  <!-- Manejo del evento de instalación -->
  <script>
    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (event) => {
      event.preventDefault();
      deferredPrompt = event;
      // Puedes realizar acciones adicionales aquí si es necesario
    });
  </script>
</head>
<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>

  <!-- Registro del Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('%PUBLIC_URL%/service-worker.js')
        .then(registration => {
          console.log('Service Worker registered successfully:', registration);
        })
        .catch(error => {
          console.error('Error registering Service Worker:', error);
        });
    }
  </script>

  <!-- Actualizaciones Automáticas (Service Worker) -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.addEventListener('controllerchange', () => {
        window.location.reload();
      });
    }
  </script>

  <!-- Notificaciones -->
  <script>
    function showNotification(title, text) {
      if ('Notification' in window) {
        Notification.requestPermission().then(permission => {
          if (permission === 'granted') {
            new Notification(title, { body: text });
          }
        });
      }
    }

    const notifications = [
      { title: 'ASEO', text: 'Trae toalla. A nadie le gusta el sudor de los demás.' },
      { title: 'PUNTUALIDAD', text: 'Debes llegar al menos 5 minutos antes. 2 Burpees por minuto tarde.' },
      { title: 'COMPROMISO', text: 'Toda reserva se debe pagar, aunque faltes.' },
      { title: 'RESERVAS', text: 'Se deben realizar con dos horas de antelación.' },
    ];

    // Mostrar las notificaciones predefinidas
    notifications.forEach(notification => {
      showNotification(notification.title, notification.text);
    });
  </script>

  <!-- Modo Oscuro/Modo Claro -->
  <script>
    function enableDarkMode() {
      document.body.classList.add('dark-mode');
    }

    function enableLightMode() {
      document.body.classList.remove('dark-mode');
    }
  </script>
</body>
</html>
